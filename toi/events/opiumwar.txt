#Events about the 2nd Opium war
add_namespace = opiumwar

#The Opium War
country_event = {
		id = opiumwar.1
		title = opiumwar.1.t
		desc = opiumwar.1.d
		
		fire_only_once = yes
		
		trigger = {
				tag = ENG
				date > 1857.5.10
		}
		
		option = {
				id = opiumwar.1.a
				declare_war_on = { target = CHI type = annex_everything }
				add_to_war = { targeted_alliance = FRA enemy = CHI }
		}
}

#The capture of Hong Kong
country_event = {
		id = opiumwar.2
		title = opiumwar.2.t
		desc = opiumwar.2.d
		
		fire_only_once = yes
		
		trigger = {
				tag = ENG
				326 = { is_controlled_by = ENG }
				326 = { is_controlled_by = FRA }
		}
		
		option = {
				id = opiumwar.2.a
		}
}

#The capture of Guangzhouwan
country_event = {
		id = opiumwar.3
		title = opiumwar.3.t
		desc = opiumwar.3.d
		
		fire_only_once = yes
		
		trigger = {
				tag = ENG				
				728 = { is_controlled_by = ENG }
				728 = { is_controlled_by = FRA }
		}
		
		option = {
				id = opiumwar.3.a
		}
}

#China surrenders
country_event = {
		id = opiumwar.4
		title = opiumwar.4.t
		desc = opiumwar.4.d
		
		fire_only_once = yes
		
		trigger = {
				tag = ENG
				728 = { ships_in_state_ports > 4 }
				326 = { ships_in_state_ports > 4 }				
				NOT = {
					728 = { is_controlled_by = CHI }
					326 = { is_controlled_by = CHI }
				}
		}
		
		option = {
				id = opiumwar.4.a
				white_peace = CHI
				ENG = { transfer_state = 326 }
				hidden_effect = { FRA = { country_event = opiumwar.5 } }
		}
}

#France gets its spoils
country_event = {
		id = opiumwar.5
		title = opiumwar.5.t
		desc = opiumwar.5.d
		
		is_triggered_only = yes
		
		option = {
				id = opiumwar.5.a
				white_peace = CHI
				FRA = { transfer_state = 728 }
				hidden_effect = { CHI = { country_event = opiumwar.6 } }
		}
}

#Consequences for China
country_event = {
		id = opiumwar.6
		title = opiumwar.6.t
		desc = opiumwar.6.d
		
		is_triggered_only = yes
		
		option = {
				id = opiumwar.6.a
				add_timed_idea = { idea = opiumwar_consequences days =  1825 }
		}
}
				

				